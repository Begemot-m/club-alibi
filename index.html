<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Бильярдный клуб «Алиби» — Санкт-Петербург</title>
  <meta name="description" content="Бильярдный клуб Алиби в Санкт-Петербурге. 33 стола, 1000 м², бильярдная школа, ресторан. Ул. Пионерская, 21.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --brown-dark:  #100A04;
      --brown-mid:   #1E1108;
      --brown-card:  #261508;
      --gold:        #C8973A;
      --gold-light:  #E0AD55;
      --cream:       #F2E8D4;
      --muted:       rgba(242,232,212,0.55);
      --border:      rgba(200,151,58,0.18);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html { scroll-behavior: smooth; }

    body {
      background: var(--brown-dark);
      color: var(--cream);
      font-family: 'Montserrat', sans-serif;
      font-size: 16px;
      line-height: 1.65;
      overflow-x: hidden;
    }

    /* ── SCROLLBAR ─────────────────────────────── */
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: var(--brown-dark); }
    ::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 2px; }

    /* ── NAVBAR ────────────────────────────────── */
    #nav {
      position: fixed;
      top: 14px; left: 14px; right: 14px;
      z-index: 60;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 10px 22px;
      background: rgba(16,10,4,0.82);
      backdrop-filter: blur(22px);
      border: 1px solid var(--border);
      border-radius: 14px;
      transition: background .3s;
    }
    #nav.scrolled { background: rgba(10,6,2,0.97); }

    .nav-logo { display: flex; align-items: center; gap: 12px; text-decoration: none; }
    .nav-logo-text {
      font-family: 'Cormorant', serif;
      font-size: 26px; font-weight: 700;
      color: var(--gold); letter-spacing: .16em;
      line-height: 1;
    }
    .nav-logo-sub {
      font-family: 'Montserrat', sans-serif;
      font-size: 8px; font-weight: 500;
      color: var(--muted); letter-spacing: .3em;
      text-transform: uppercase; display: block; margin-top: 2px;
    }

    .nav-links {
      display: flex; gap: 28px; list-style: none;
    }
    .nav-links a {
      color: var(--cream); text-decoration: none;
      font-size: 12px; font-weight: 500;
      letter-spacing: .12em; text-transform: uppercase;
      opacity: .75; transition: opacity .2s, color .2s;
    }
    .nav-links a:hover { opacity: 1; color: var(--gold); }

    .nav-cta {
      flex-shrink: 0;
      background: var(--gold); color: #100A04;
      padding: 9px 22px; border-radius: 8px;
      font-size: 12px; font-weight: 700;
      letter-spacing: .08em; text-transform: uppercase;
      text-decoration: none; cursor: pointer;
      border: none;
      transition: background .2s, transform .2s;
    }
    .nav-cta:hover { background: var(--gold-light); transform: translateY(-1px); }

    .burger {
      display: none; flex-direction: column; gap: 5px;
      cursor: pointer; padding: 4px;
    }
    .burger span {
      display: block; width: 22px; height: 2px;
      background: var(--cream); border-radius: 2px;
      transition: all .3s;
    }

    /* ── HERO ──────────────────────────────────── */
    #hero {
      position: relative;
      min-height: 100svh;
      display: flex; align-items: center; justify-content: center;
      overflow: hidden;
      background: radial-gradient(ellipse 80% 60% at 35% 55%, #2B1507 0%, #130A03 55%, #080401 100%);
    }

    #hero-canvas {
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      pointer-events: none;
    }

    /* subtle diagonal texture */
    #hero::before {
      content: '';
      position: absolute; inset: 0;
      background-image: repeating-linear-gradient(
        -45deg,
        transparent, transparent 38px,
        rgba(200,151,58,.025) 38px, rgba(200,151,58,.025) 40px
      );
    }

    .hero-inner {
      position: relative; z-index: 2;
      text-align: center;
      padding: 100px 24px 60px;
      max-width: 860px;
    }

    .hero-logo-wrap {
      display: flex; align-items: center; justify-content: center; gap: 18px;
      margin: 0 auto 36px;
      animation: fadeDown .9s ease both;
    }
    .hero-logo-text {
      font-family: 'Cormorant', serif;
      font-size: clamp(36px, 6vw, 54px); font-weight: 700;
      color: var(--gold); letter-spacing: .2em; line-height: 1;
    }
    .hero-logo-sub-text {
      font-family: 'Montserrat', sans-serif;
      font-size: 10px; font-weight: 500;
      color: var(--muted); letter-spacing: .35em;
      text-transform: uppercase; display: block; margin-top: 5px;
    }

    .hero-est {
      display: inline-block;
      color: var(--gold);
      font-size: 11px; font-weight: 600;
      letter-spacing: .35em; text-transform: uppercase;
      margin-bottom: 20px;
      animation: fadeUp .9s .15s ease both;
    }

    .hero-h1 {
      font-family: 'Cormorant', serif;
      font-size: clamp(44px, 9vw, 96px);
      font-weight: 600; line-height: 1.05;
      letter-spacing: -.02em;
      color: #fff;
      margin-bottom: 28px;
      animation: fadeUp .9s .25s ease both;
    }
    .hero-h1 em { color: var(--gold); font-style: italic; }

    .hero-sub {
      font-size: 13px; font-weight: 400;
      letter-spacing: .22em; text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 44px;
      animation: fadeUp .9s .4s ease both;
    }

    .hero-btns {
      display: flex; gap: 14px; justify-content: center; flex-wrap: wrap;
      animation: fadeUp .9s .55s ease both;
    }

    .btn-gold {
      background: var(--gold); color: #100A04;
      padding: 15px 38px; border-radius: 8px;
      font-size: 13px; font-weight: 700;
      letter-spacing: .1em; text-transform: uppercase;
      text-decoration: none; border: none; cursor: pointer;
      transition: background .25s, transform .25s, box-shadow .25s;
    }
    .btn-gold:hover {
      background: var(--gold-light);
      transform: translateY(-2px);
      box-shadow: 0 10px 32px rgba(200,151,58,.38);
    }

    .btn-outline {
      background: transparent; color: var(--cream);
      padding: 15px 38px; border-radius: 8px;
      font-size: 13px; font-weight: 500;
      letter-spacing: .1em; text-transform: uppercase;
      text-decoration: none; cursor: pointer;
      border: 1px solid rgba(242,232,212,.28);
      transition: border-color .25s, color .25s;
    }
    .btn-outline:hover { border-color: var(--gold); color: var(--gold); }

    .hero-scroll-hint {
      position: absolute; bottom: 36px; left: 50%;
      transform: translateX(-50%);
      display: flex; flex-direction: column; align-items: center; gap: 8px;
      color: var(--muted); font-size: 10px;
      letter-spacing: .25em; text-transform: uppercase;
      animation: scrollBounce 2s infinite;
    }

    /* ── STATS BAR ─────────────────────────────── */
    #stats {
      background: linear-gradient(180deg, #080401 0%, #1A0E06 100%);
      padding: 0;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
    }
    .stat-card {
      text-align: center;
      padding: 64px 24px;
      border: 1px solid var(--border);
      position: relative; overflow: hidden;
      transition: background .35s;
    }
    .stat-card::after {
      content: '';
      position: absolute; top: 0; left: 0; right: 0; height: 2px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      opacity: 0; transition: opacity .35s;
    }
    .stat-card:hover { background: rgba(200,151,58,.06); }
    .stat-card:hover::after { opacity: 1; }

    .stat-ico { display: block; margin: 0 auto 18px; }
    @keyframes ballRoll {
      0%,8%    { transform: translateX(0); }
      45%,55%  { transform: translateX(34px); }
      92%,100% { transform: translateX(0); }
    }
    @keyframes shadowRoll {
      0%,8%    { transform: translateX(0); }
      45%,55%  { transform: translateX(34px); }
      92%,100% { transform: translateX(0); }
    }
    .ball-anim   { animation: ballRoll   3.2s cubic-bezier(.4,0,.6,1) infinite; }
    .shadow-anim { animation: shadowRoll 3.2s cubic-bezier(.4,0,.6,1) infinite; }
    @keyframes dashmarch { to { stroke-dashoffset: -20; } }
    @keyframes hallGlow1 { 0%,100%{fill-opacity:.05}  33%{fill-opacity:.22} }
    @keyframes hallGlow2 { 0%,100%{fill-opacity:.05} 66%{fill-opacity:.22} }
    @keyframes hallGlow3 { 0%,100%{fill-opacity:.05}100%{fill-opacity:.22} }
    @keyframes trophyShine { 0%,100%{opacity:.35} 50%{opacity:.85} }
    @keyframes rayPulse    { 0%,100%{opacity:.3}  50%{opacity:.75} }
    @keyframes starPulse   { 0%,100%{opacity:.55} 50%{opacity:1}   }

    .stat-number {
      font-family: 'Cormorant', serif;
      font-size: clamp(52px, 7vw, 80px);
      font-weight: 700; color: var(--gold); line-height: 1;
      margin-bottom: 10px;
    }
    .stat-label {
      font-size: 11px; letter-spacing: .22em;
      text-transform: uppercase; color: var(--muted);
    }

    /* ── SECTION WRAPPER ───────────────────────── */
    .wrap { max-width: 1240px; margin: 0 auto; padding: 0 24px; }

    .sec { padding: 110px 0; }
    .sec-alt { background: rgba(0,0,0,.22); }

    .tag {
      display: inline-block;
      color: var(--gold); font-size: 11px; font-weight: 600;
      letter-spacing: .3em; text-transform: uppercase;
      margin-bottom: 14px;
    }
    .sec-h2 {
      font-family: 'Cormorant', serif;
      font-size: clamp(36px, 5.5vw, 64px);
      font-weight: 600; line-height: 1.08; color: #fff;
      margin-bottom: 22px;
    }
    .sec-p {
      font-size: 15px; color: var(--muted);
      max-width: 580px; line-height: 1.82;
    }

    /* ── TABLES SECTION ────────────────────────── */
    .tables-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 22px;
      margin-top: 58px;
    }
    .table-card {
      background: rgba(255,255,255,.025);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 50px 30px 42px;
      text-align: center;
      position: relative; overflow: hidden;
      transition: transform .4s, border-color .4s, background .4s;
      cursor: default;
    }
    .table-card::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(circle at 50% 0, rgba(200,151,58,.12) 0%, transparent 65%);
      opacity: 0; transition: opacity .4s;
    }
    .table-card:hover { transform: translateY(-5px); border-color: rgba(200,151,58,.4); }
    .table-card:hover::before { opacity: 1; }

    .table-ico { width: 100%; max-width: 200px; height: auto; display: block; margin: 0 auto 28px; }
    .table-count {
      font-family: 'Cormorant', serif;
      font-size: 70px; font-weight: 700;
      color: var(--gold); line-height: 1;
    }
    .table-name {
      font-size: 17px; font-weight: 600; color: #fff;
      margin: 8px 0 12px;
    }
    .table-desc { font-size: 13px; color: var(--muted); line-height: 1.65; }

    /* ── PRICES ────────────────────────────────── */
    .price-wrap {
      overflow-x: auto;
      border-radius: 16px;
      border: 1px solid var(--border);
      margin-top: 52px;
    }
    .price-table {
      width: 100%; border-collapse: collapse; min-width: 600px;
    }
    .price-table th {
      padding: 18px 24px;
      font-size: 11px; letter-spacing: .2em; text-transform: uppercase;
      color: var(--gold); text-align: left;
      border-bottom: 1px solid var(--border);
    }
    .price-table td {
      padding: 18px 24px;
      border-bottom: 1px solid rgba(255,255,255,.05);
      font-size: 15px; color: var(--cream);
    }
    .price-table tr:last-child td { border-bottom: none; }
    .price-table tbody tr { transition: background .2s; }
    .price-table tbody tr:hover td { background: rgba(200,151,58,.05); }

    .price-val {
      font-family: 'Cormorant', serif;
      font-size: 26px; font-weight: 600; color: var(--gold);
    }
    .price-badge {
      display: inline-block;
      background: rgba(200,151,58,.14);
      border: 1px solid rgba(200,151,58,.28);
      color: var(--gold); font-size: 10px; font-weight: 600;
      padding: 3px 10px; border-radius: 100px;
      letter-spacing: .1em;
    }
    .price-note {
      display: flex; align-items: flex-start; gap: 14px;
      margin-top: 22px; padding: 18px 22px;
      background: rgba(200,151,58,.05);
      border: 1px solid rgba(200,151,58,.12);
      border-radius: 12px;
      font-size: 13px; color: var(--muted); line-height: 1.6;
    }
    .price-note svg { flex-shrink: 0; margin-top: 1px; }

    /* ── POPUP CARDS ───────────────────────────── */
    .popup-row {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 58px;
    }
    .popup-card {
      position: relative; border-radius: 22px;
      overflow: hidden; cursor: pointer;
      aspect-ratio: 3/4;
      transition: transform .4s cubic-bezier(.22,.68,0,1.3);
    }
    .popup-card:hover { transform: scale(1.025); }
    .popup-card:focus-visible {
      outline: 2px solid var(--gold); outline-offset: 4px;
    }

    .popup-bg {
      position: absolute; inset: 0;
      background-size: cover; background-position: center;
      transition: transform .6s ease;
    }
    .popup-card:hover .popup-bg { transform: scale(1.07); }

    .popup-overlay {
      position: absolute; inset: 0;
      background: linear-gradient(to top, rgba(8,4,1,.95) 28%, rgba(8,4,1,.35) 100%);
    }

    .popup-body {
      position: absolute; bottom: 0; left: 0; right: 0;
      padding: 36px 30px;
    }
    .popup-ico {
      width: 76px; height: 76px;
      background: rgba(200,151,58,.11);
      border: 1px solid rgba(200,151,58,.32);
      border-radius: 18px;
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 20px;
    }
    .popup-title {
      font-family: 'Cormorant', serif;
      font-size: 30px; font-weight: 600; color: #fff;
      line-height: 1.15; margin-bottom: 10px;
    }
    .popup-desc { font-size: 13px; color: var(--muted); line-height: 1.6; margin-bottom: 22px; }
    .popup-link {
      display: inline-flex; align-items: center; gap: 7px;
      color: var(--gold); font-size: 11px; font-weight: 600;
      letter-spacing: .15em; text-transform: uppercase;
      transition: gap .2s;
    }
    .popup-card:hover .popup-link { gap: 12px; }

    /* ── MODALS ────────────────────────────────── */
    .overlay {
      position: fixed; inset: 0; z-index: 90;
      background: rgba(0,0,0,.88);
      backdrop-filter: blur(12px);
      display: flex; align-items: center; justify-content: center;
      padding: 16px;
      opacity: 0; visibility: hidden;
      transition: opacity .3s, visibility .3s;
    }
    .overlay.on { opacity: 1; visibility: visible; }

    .modal {
      background: var(--brown-mid);
      border: 1px solid var(--border);
      border-radius: 22px;
      max-width: 920px; width: 100%;
      max-height: 88vh; overflow-y: auto;
      transform: translateY(18px) scale(.98);
      transition: transform .3s;
    }
    .overlay.on .modal { transform: translateY(0) scale(1); }

    .modal::-webkit-scrollbar { width: 4px; }
    .modal::-webkit-scrollbar-thumb { background: rgba(200,151,58,.3); border-radius: 2px; }

    .modal-head {
      position: sticky; top: 0; z-index: 2;
      background: var(--brown-mid);
      padding: 36px 44px 28px;
      border-bottom: 1px solid rgba(200,151,58,.1);
      display: flex; align-items: flex-start; justify-content: space-between; gap: 16px;
    }
    .modal-close {
      flex-shrink: 0;
      width: 38px; height: 38px;
      display: flex; align-items: center; justify-content: center;
      background: none; border: 1px solid rgba(255,255,255,.12);
      border-radius: 8px; cursor: pointer; color: var(--cream);
      transition: border-color .2s, color .2s;
    }
    .modal-close:hover { border-color: var(--gold); color: var(--gold); }
    .modal-cnt { padding: 36px 44px 44px; }

    /* trainers */
    .trainers-g {
      display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;
    }
    .trainer {
      background: rgba(200,151,58,.05);
      border: 1px solid rgba(200,151,58,.12);
      border-radius: 16px; padding: 28px;
      transition: border-color .3s;
    }
    .trainer:hover { border-color: rgba(200,151,58,.32); }
    .trainer-av {
      width: 68px; height: 68px; border-radius: 50%;
      background: linear-gradient(135deg, var(--gold), #7B4A1A);
      display: flex; align-items: center; justify-content: center;
      font-family: 'Cormorant', serif; font-size: 26px; font-weight: 700;
      color: #100A04; margin-bottom: 18px;
    }
    .trainer-name { font-size: 17px; font-weight: 600; color: #fff; margin-bottom: 3px; }
    .trainer-rank { font-size: 11px; color: var(--gold); letter-spacing: .1em; text-transform: uppercase; margin-bottom: 14px; }
    .trainer-bio { font-size: 13px; color: var(--muted); line-height: 1.65; margin-bottom: 18px; }
    .trainer-phone {
      display: inline-flex; align-items: center; gap: 7px;
      color: var(--gold); font-size: 14px; font-weight: 500;
      text-decoration: none; transition: opacity .2s;
    }
    .trainer-phone:hover { opacity: .75; }

    /* menu page buttons */
    .menu-pages {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
    }
    .menu-page-btn {
      background: rgba(200,151,58,.07);
      border: 1px solid rgba(200,151,58,.2);
      border-radius: 10px; padding: 16px 8px;
      cursor: pointer; text-align: center;
      color: var(--cream); font-size: 12px; font-weight: 500;
      font-family: 'Montserrat', sans-serif;
      transition: background .2s, border-color .2s, transform .2s;
    }
    .menu-page-btn:hover {
      background: rgba(200,151,58,.16);
      border-color: var(--gold);
      transform: translateY(-2px);
    }
    .menu-page-btn .mpb-num {
      font-family: 'Cormorant', serif;
      font-size: 28px; font-weight: 700; color: var(--gold);
      display: block; line-height: 1; margin-bottom: 4px;
    }

    /* lightbox */
    #lb {
      position: fixed; inset: 0; z-index: 200;
      background: rgba(0,0,0,.96);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      opacity: 0; visibility: hidden;
      transition: opacity .25s, visibility .25s;
    }
    #lb.on { opacity: 1; visibility: visible; }
    #lb-img {
      max-width: min(90vw, 800px);
      max-height: 78vh;
      border-radius: 10px;
      object-fit: contain;
      transition: opacity .2s;
    }
    #lb-loading {
      position: absolute;
      width: 44px; height: 44px;
      border: 2px solid rgba(200,151,58,.2);
      border-top-color: var(--gold);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    .lb-nav {
      display: flex; align-items: center; gap: 20px;
      margin-top: 20px;
    }
    .lb-btn {
      background: rgba(200,151,58,.12);
      border: 1px solid rgba(200,151,58,.3);
      border-radius: 8px; padding: 10px 22px;
      color: var(--cream); font-size: 13px; font-weight: 500;
      cursor: pointer; font-family: 'Montserrat', sans-serif;
      transition: background .2s;
    }
    .lb-btn:hover { background: rgba(200,151,58,.25); }
    .lb-btn:disabled { opacity: .3; cursor: default; }
    #lb-counter {
      font-family: 'Cormorant', serif;
      font-size: 22px; color: var(--gold); min-width: 60px; text-align: center;
    }
    .lb-close {
      position: absolute; top: 20px; right: 20px;
      width: 40px; height: 40px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.15);
      border-radius: 8px; cursor: pointer;
      color: var(--cream); font-size: 18px;
      display: flex; align-items: center; justify-content: center;
      transition: background .2s;
    }
    .lb-close:hover { background: rgba(200,151,58,.2); border-color: var(--gold); }

    /* contacts */
    .phone-big {
      font-family: 'Cormorant', serif;
      font-size: clamp(34px, 6vw, 58px);
      font-weight: 600; color: var(--gold);
      text-decoration: none; display: block;
      margin: 20px 0 28px;
      transition: opacity .2s;
    }
    .phone-big:hover { opacity: .78; }
    .contact-g { display: grid; grid-template-columns: repeat(2, 1fr); gap: 18px; margin-top: 36px; }
    .contact-box {
      background: rgba(200,151,58,.05);
      border: 1px solid rgba(200,151,58,.12);
      border-radius: 12px; padding: 22px;
    }
    .contact-lbl { font-size: 10px; color: var(--gold); letter-spacing: .22em; text-transform: uppercase; margin-bottom: 8px; }
    .contact-val { font-size: 15px; color: var(--cream); font-weight: 500; line-height: 1.5; }

    /* ── ROUTE ─────────────────────────────────── */
    .route-wrap {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 72px; align-items: start;
      margin-top: 60px;
    }

    .route-steps { display: flex; flex-direction: column; }

    .step {
      display: flex; gap: 20px; align-items: flex-start;
      padding-bottom: 38px; position: relative;
      opacity: 0; transform: translateX(-22px);
      transition: opacity .55s, transform .55s;
    }
    .step.vis { opacity: 1; transform: none; }

    .step:not(:last-child)::after {
      content: '';
      position: absolute;
      left: 22px; top: 46px; bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, rgba(200,151,58,.5), transparent);
    }

    .step-n {
      flex-shrink: 0;
      width: 46px; height: 46px; border-radius: 50%;
      background: rgba(200,151,58,.08);
      border: 2px solid var(--gold);
      display: flex; align-items: center; justify-content: center;
      font-family: 'Cormorant', serif; font-size: 20px;
      font-weight: 700; color: var(--gold);
    }
    .step-title { font-size: 17px; font-weight: 600; color: #fff; margin-bottom: 7px; }
    .step-desc { font-size: 13px; color: var(--muted); line-height: 1.65; }

    /* SVG map illustration */
    .map-illus {
      background: rgba(200,151,58,.03);
      border: 1px solid var(--border);
      border-radius: 20px; overflow: hidden;
    }

    /* Yandex Maps */
    .ym-wrap {
      margin-top: 58px;
      border-radius: 20px; overflow: hidden;
      border: 1px solid var(--border);
      height: 420px;
    }
    .ym-wrap iframe { display: block; width: 100%; height: 100%; border: none; }

    /* ── FOOTER ────────────────────────────────── */
    footer {
      background: #060402;
      border-top: 1px solid rgba(200,151,58,.1);
      padding: 64px 24px 40px;
    }
    .footer-grid {
      max-width: 1240px; margin: 0 auto;
      display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 60px;
    }
    .foot-logo img { height: 54px; margin-bottom: 20px; }
    .foot-tagline { font-size: 14px; color: var(--muted); line-height: 1.8; max-width: 270px; }
    .foot-h { font-size: 11px; color: var(--gold); letter-spacing: .22em; text-transform: uppercase; margin-bottom: 18px; }
    .foot-ul { list-style: none; display: flex; flex-direction: column; gap: 11px; }
    .foot-ul a { color: var(--muted); text-decoration: none; font-size: 14px; transition: color .2s; }
    .foot-ul a:hover { color: var(--cream); }

    .foot-bottom {
      max-width: 1240px; margin: 36px auto 0;
      padding-top: 22px;
      border-top: 1px solid rgba(255,255,255,.05);
      display: flex; justify-content: space-between; align-items: center;
      font-size: 12px; color: rgba(242,232,212,.28);
    }
    .foot-bottom a { color: inherit; text-decoration: none; transition: color .2s; }
    .foot-bottom a:hover { color: var(--gold); }

    /* ── REVEAL ────────────────────────────────── */
    .rev {
      opacity: 0; transform: translateY(28px);
      transition: opacity .65s ease, transform .65s ease;
    }
    .rev.vis { opacity: 1; transform: none; }
    .rev.d1 { transition-delay: .1s; }
    .rev.d2 { transition-delay: .2s; }
    .rev.d3 { transition-delay: .3s; }
    .rev.d4 { transition-delay: .4s; }

    /* ── KEYFRAMES ─────────────────────────────── */
    @keyframes fadeDown  { from { opacity:0; transform:translateY(-18px); } to { opacity:1; transform:none; } }
    @keyframes fadeUp    { from { opacity:0; transform:translateY(18px);  } to { opacity:1; transform:none; } }
    @keyframes scrollBounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50%       { transform: translateX(-50%) translateY(7px); }
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ── RESPONSIVE ────────────────────────────── */
    @media (max-width: 1024px) {
      .stats-grid   { grid-template-columns: repeat(2, 1fr); }
      .tables-grid  { grid-template-columns: repeat(2, 1fr); }
      .popup-row    { grid-template-columns: 1fr; }
      .popup-card   { aspect-ratio: unset; min-height: 300px; }
      .route-wrap   { grid-template-columns: 1fr; gap: 44px; }
      .footer-grid  { grid-template-columns: 1fr 1fr; }
    }

    @media (max-width: 768px) {
      /* Прячем ссылки и кнопку бронирования из основной строки */
      .nav-links { display: none; }
      .nav-cta   { display: none; }
      .burger    { display: flex; }

      /* Навбар: логотип слева, бургер справа */
      #nav { justify-content: space-between; padding: 10px 18px; }

      /* Выпадающее меню — центрировано, красиво */
      .nav-links.open {
        display: flex; flex-direction: column; align-items: center;
        position: fixed; top: 74px; left: 14px; right: 14px; bottom: auto;
        background: rgba(14,8,3,.98);
        backdrop-filter: blur(24px);
        border: 1px solid var(--border);
        border-radius: 20px;
        padding: 24px 20px 20px; gap: 0; z-index: 59;
      }
      .nav-links.open li {
        width: 100%; text-align: center;
      }
      .nav-links.open li a {
        display: block; font-size: 14px; letter-spacing: .18em;
        padding: 14px 8px;
        border-bottom: 1px solid rgba(200,151,58,.1);
        opacity: .85; text-align: center;
      }
      .nav-links.open li:last-child a { border-bottom: none; }
      /* Кнопка бронирования внутри дропдауна */
      .nav-cta-mobile {
        display: block !important;
        margin-top: 18px;
      }
      .nav-cta-mobile a {
        display: block !important;
        border-bottom: none !important;
        padding: 13px 28px !important;
        background: var(--gold) !important;
        color: #100A04 !important;
        border-radius: 10px !important;
        font-size: 12px !important; font-weight: 700 !important;
        opacity: 1 !important;
      }
      .nav-cta-mobile a:hover { background: var(--gold-light) !important; }
      /* Hero est — Санкт-Петербург с новой строки */
      .hero-est { display: block; text-align: center; }
      .hero-est-sep  { display: none; }
      .hero-est-city { display: block; margin-top: 4px; }

      /* Hero sub — каждый элемент с новой строки, по центру */
      .hero-sub { text-align: center; }
      .hero-sub-sep  { display: none; }
      .hero-sub-addr { display: block; margin-bottom: 10px; }
      .hero-sub-addr-street { display: block; margin-bottom: 6px; }
      .hero-sub-metro { display: flex; align-items: center; justify-content: center; gap: 2px; }
      .hero-sub-item { display: block; margin-bottom: 10px; }

      .tables-grid { grid-template-columns: 1fr; }
      .trainers-g  { grid-template-columns: 1fr; }
      .menu-g      { grid-template-columns: 1fr; }
      .contact-g   { grid-template-columns: 1fr; }
      .modal-cnt   { padding: 24px; }
      .modal-head  { padding: 22px 24px 18px; }
      .footer-grid { grid-template-columns: 1fr; gap: 36px; }
      .foot-bottom { flex-direction: column; gap: 12px; text-align: center; }
      .sec { padding: 72px 0; }
    }

    @media (max-width: 480px) {
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: .01ms !important;
        transition-duration: .01ms !important;
      }
    }
  </style>
</head>
<body>

<!-- ══════════════ NAV ══════════════ -->
<nav id="nav">
  <a href="#" class="nav-logo">
    <!-- billiard ball icon -->
    <svg width="36" height="36" viewBox="0 0 36 36" fill="none" aria-hidden="true">
      <circle cx="18" cy="18" r="17" fill="#1E1108" stroke="#C8973A" stroke-width="1.2"/>
      <circle cx="18" cy="18" r="10" fill="rgba(200,151,58,.12)" stroke="#C8973A" stroke-width="1"/>
      <text x="18" y="22" text-anchor="middle" fill="#C8973A" font-family="Georgia,serif" font-size="10" font-weight="700">A</text>
      <circle cx="12" cy="12" r="4" fill="rgba(255,255,255,.08)"/>
    </svg>
    <div>
      <span class="nav-logo-text">АЛИБИ</span>
      <span class="nav-logo-sub">бильярдный клуб</span>
    </div>
  </a>

  <ul class="nav-links" id="navLinks">
    <li><a href="#tables"   onclick="closeMenu()">Залы</a></li>
    <li><a href="#prices"   onclick="closeMenu()">Цены</a></li>
    <li><a href="#services" onclick="closeMenu()">Услуги</a></li>
    <li><a href="#route"    onclick="closeMenu()">Как найти</a></li>
    <li class="nav-cta-mobile" style="display:none">
      <a href="tel:+79312987778" onclick="closeMenu()">Забронировать стол</a>
    </li>
  </ul>

  <a href="tel:+79312987778" class="nav-cta">Забронировать стол</a>

  <div class="burger" id="burger" onclick="toggleMenu()" aria-label="Меню" tabindex="0">
    <span></span><span></span><span></span>
  </div>
</nav>

<!-- ══════════════ HERO ══════════════ -->
<section id="hero">
  <canvas id="hero-canvas"></canvas>

  <div class="hero-inner">
    <div class="hero-logo-wrap">
      <svg width="70" height="70" viewBox="0 0 70 70" fill="none" aria-hidden="true">
        <circle cx="35" cy="35" r="33" fill="#1E1108" stroke="#C8973A" stroke-width="1.5"/>
        <circle cx="35" cy="35" r="20" fill="rgba(200,151,58,.1)" stroke="#C8973A" stroke-width="1"/>
        <text x="35" y="42" text-anchor="middle" fill="#C8973A" font-family="Georgia,serif" font-size="20" font-weight="700">A</text>
        <circle cx="24" cy="23" r="7" fill="rgba(255,255,255,.07)"/>
        <circle cx="35" cy="35" r="33" fill="none" stroke="rgba(200,151,58,.15)" stroke-width="6"/>
      </svg>
      <div style="text-align:left">
        <div class="hero-logo-text">АЛИБИ</div>
        <div class="hero-logo-sub-text">бильярдный клуб</div>
      </div>
    </div>
    <span class="hero-est">
      <span class="hero-est-year">Основан в 2007 году</span><span class="hero-est-sep"> · </span><span class="hero-est-city">Санкт-Петербург</span>
    </span>
    <h1 class="hero-h1">Мастерство<br>и <em>атмосфера</em></h1>
    <p class="hero-sub">
      <span class="hero-sub-addr">
        <span class="hero-sub-addr-street">ул. Пионерская, 21</span>
        <span class="hero-sub-metro">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" aria-hidden="true" style="vertical-align:middle;margin-right:5px;flex-shrink:0">
            <circle cx="9" cy="9" r="8" stroke="white" stroke-width="1.5" fill="none"/>
            <text x="9" y="13" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="10" font-weight="700">М</text>
          </svg>Чкаловская
        </span>
      </span>
      <span class="hero-sub-sep"> &nbsp;·&nbsp; </span>
      <span class="hero-sub-item">33 стола</span>
      <span class="hero-sub-sep"> &nbsp;·&nbsp; </span>
      <span class="hero-sub-item">1 000 м²</span>
    </p>
    <div class="hero-btns">
      <a href="tel:+79312987778" class="btn-gold">Забронировать стол</a>
      <a href="#services" class="btn-outline">Подробнее</a>
    </div>
  </div>

  <div class="hero-scroll-hint" aria-hidden="true">
    <span>Прокрутите</span>
    <svg width="14" height="22" fill="none">
      <path d="M7 0v14M1 9l6 6 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
  </div>
</section>

<!-- ══════════════ STATS ══════════════ -->
<div id="stats">
  <div class="stats-grid">

    <!-- 33 стола — анимированный стол с катящимся шаром -->
    <div class="stat-card rev">
      <svg class="stat-ico" width="80" height="64" viewBox="0 0 80 64" fill="none">
        <!-- table felt -->
        <rect x="4" y="10" width="72" height="44" rx="5" fill="#1a5c3a"/>
        <!-- cushions -->
        <rect x="4" y="10" width="72" height="7" rx="4" fill="#145230"/>
        <rect x="4" y="47" width="72" height="7" rx="4" fill="#145230"/>
        <rect x="4" y="10" width="7" height="44" rx="4" fill="#145230"/>
        <rect x="69" y="10" width="7" height="44" rx="4" fill="#145230"/>
        <!-- pockets -->
        <circle cx="4"  cy="10" r="5" fill="#080401"/>
        <circle cx="40" cy="10" r="3.5" fill="#080401"/>
        <circle cx="76" cy="10" r="5" fill="#080401"/>
        <circle cx="4"  cy="54" r="5" fill="#080401"/>
        <circle cx="40" cy="54" r="3.5" fill="#080401"/>
        <circle cx="76" cy="54" r="5" fill="#080401"/>
        <!-- center spot -->
        <circle cx="40" cy="32" r="2" fill="rgba(200,151,58,.25)"/>
        <!-- baulk line -->
        <line x1="26" y1="17" x2="26" y2="47" stroke="rgba(255,255,255,.08)" stroke-width="1"/>
        <!-- rolling white ball + shadow -->
        <ellipse class="shadow-anim" cx="16" cy="38" rx="4.5" ry="1.3" fill="rgba(0,0,0,.3)"/>
        <circle  class="ball-anim"   cx="16" cy="32" r="5.5" fill="#F2E8D4"/>
        <circle  class="ball-anim"   cx="14" cy="30" r="2"   fill="rgba(255,255,255,.7)"/>
        <!-- gold frame -->
        <rect x="4" y="10" width="72" height="44" rx="5" fill="none" stroke="#C8973A" stroke-width="1.4"/>
      </svg>
      <div class="stat-number" id="cnt-tables">33</div>
      <div class="stat-label">Бильярдных стола</div>
    </div>

    <!-- 1000 м² — чертёж площади с маршевыми линиями -->
    <div class="stat-card rev d1">
      <svg class="stat-ico" width="80" height="64" viewBox="0 0 80 64" fill="none">
        <!-- outer dashed border marching -->
        <rect x="6" y="6" width="68" height="52" rx="4" fill="none"
              stroke="#C8973A" stroke-width="1.5" stroke-dasharray="5 3">
          <animate attributeName="stroke-dashoffset" values="0;-16" dur="1.4s" repeatCount="indefinite"/>
        </rect>
        <!-- inner shape -->
        <rect x="16" y="16" width="48" height="32" rx="3" fill="rgba(200,151,58,.07)" stroke="#C8973A" stroke-width="1"/>
        <!-- corner marks -->
        <path d="M6 16 L6 6 L16 6"  stroke="#C8973A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M74 16 L74 6 L64 6" stroke="#C8973A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M6 48 L6 58 L16 58" stroke="#C8973A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M74 48 L74 58 L64 58" stroke="#C8973A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <!-- dimension arrows -->
        <line x1="16" y1="3" x2="64" y2="3" stroke="#C8973A" stroke-width="1" stroke-opacity=".45"/>
        <polygon points="64,3 59,1 59,5" fill="#C8973A" opacity=".45"/>
        <polygon points="16,3 21,1 21,5" fill="#C8973A" opacity=".45"/>
        <line x1="77" y1="16" x2="77" y2="48" stroke="#C8973A" stroke-width="1" stroke-opacity=".45"/>
        <polygon points="77,16 75,21 79,21" fill="#C8973A" opacity=".45"/>
        <polygon points="77,48 75,43 79,43" fill="#C8973A" opacity=".45"/>
        <!-- billiard table silhouette inside -->
        <rect x="22" y="22" width="36" height="20" rx="2" fill="rgba(26,92,58,.6)" stroke="rgba(200,151,58,.3)" stroke-width=".8"/>
        <circle cx="22" cy="22" r="2" fill="#080401"/>
        <circle cx="58" cy="22" r="2" fill="#080401"/>
        <circle cx="22" cy="42" r="2" fill="#080401"/>
        <circle cx="58" cy="42" r="2" fill="#080401"/>
      </svg>
      <div class="stat-number">1000<span style="font-size:.5em">м²</span></div>
      <div class="stat-label">Общая площадь</div>
    </div>

    <!-- 3 зала — три зала с поочерёдной подсветкой -->
    <div class="stat-card rev d2">
      <svg class="stat-ico" width="80" height="64" viewBox="0 0 80 64" fill="none">
        <!-- Hall 1 (left) -->
        <rect x="2" y="20" width="20" height="36" rx="3"
              fill="#C8973A" stroke="#C8973A" stroke-width="1.2">
          <animate attributeName="fill-opacity" values=".07;.22;.07" dur="2.7s" begin="0s" repeatCount="indefinite"/>
        </rect>
        <!-- door slit hall 1 -->
        <rect x="8" y="48" width="8" height="8" rx="1" fill="#080401" opacity=".6"/>
        <!-- table in hall 1 -->
        <rect x="5" y="25" width="14" height="16" rx="1" fill="rgba(26,92,58,.7)" stroke="rgba(200,151,58,.3)" stroke-width=".7"/>
        <circle cx="5"  cy="25" r="1.5" fill="#080401"/>
        <circle cx="19" cy="25" r="1.5" fill="#080401"/>
        <circle cx="5"  cy="41" r="1.5" fill="#080401"/>
        <circle cx="19" cy="41" r="1.5" fill="#080401"/>

        <!-- Hall 2 (center, wider = VIP) -->
        <rect x="26" y="10" width="28" height="46" rx="3"
              fill="#C8973A" stroke="#C8973A" stroke-width="1.5">
          <animate attributeName="fill-opacity" values=".07;.22;.07" dur="2.7s" begin=".9s" repeatCount="indefinite"/>
        </rect>
        <!-- VIP label -->
        <text x="40" y="22" text-anchor="middle" fill="rgba(200,151,58,.7)"
              font-size="7" font-family="Montserrat,sans-serif" font-weight="700">VIP</text>
        <!-- table in hall 2 -->
        <rect x="30" y="26" width="20" height="22" rx="1" fill="rgba(26,92,58,.7)" stroke="rgba(200,151,58,.3)" stroke-width=".7"/>
        <circle cx="30" cy="26" r="1.5" fill="#080401"/>
        <circle cx="50" cy="26" r="1.5" fill="#080401"/>
        <circle cx="30" cy="48" r="1.5" fill="#080401"/>
        <circle cx="50" cy="48" r="1.5" fill="#080401"/>
        <!-- door hall 2 -->
        <rect x="33" y="50" width="14" height="6" rx="1" fill="#080401" opacity=".6"/>

        <!-- Hall 3 (right) -->
        <rect x="58" y="20" width="20" height="36" rx="3"
              fill="#C8973A" stroke="#C8973A" stroke-width="1.2">
          <animate attributeName="fill-opacity" values=".07;.22;.07" dur="2.7s" begin="1.8s" repeatCount="indefinite"/>
        </rect>
        <rect x="61" y="25" width="14" height="16" rx="1" fill="rgba(26,92,58,.7)" stroke="rgba(200,151,58,.3)" stroke-width=".7"/>
        <circle cx="61" cy="25" r="1.5" fill="#080401"/>
        <circle cx="75" cy="25" r="1.5" fill="#080401"/>
        <circle cx="61" cy="41" r="1.5" fill="#080401"/>
        <circle cx="75" cy="41" r="1.5" fill="#080401"/>
        <rect x="64" y="48" width="8" height="8" rx="1" fill="#080401" opacity=".6"/>

        <!-- connecting corridors -->
        <rect x="22" y="36" width="4" height="6" rx="1" fill="rgba(200,151,58,.2)"/>
        <rect x="54" y="36" width="4" height="6" rx="1" fill="rgba(200,151,58,.2)"/>
      </svg>
      <div class="stat-number">3</div>
      <div class="stat-label">Просторных зала</div>
    </div>

    <!-- 17 лет — кубок с мерцающими лучами -->
    <div class="stat-card rev d3">
      <svg class="stat-ico" width="80" height="64" viewBox="0 0 80 64" fill="none">
        <!-- rays emanating from trophy (behind) -->
        <line x1="40" y1="6"  x2="40" y2="2"  stroke="#C8973A" stroke-width="2" stroke-linecap="round">
          <animate attributeName="opacity" values=".3;.8;.3" dur="2s" begin="0s"   repeatCount="indefinite"/>
        </line>
        <line x1="52" y1="9"  x2="55" y2="6"  stroke="#C8973A" stroke-width="2" stroke-linecap="round">
          <animate attributeName="opacity" values=".3;.8;.3" dur="2s" begin=".3s"  repeatCount="indefinite"/>
        </line>
        <line x1="28" y1="9"  x2="25" y2="6"  stroke="#C8973A" stroke-width="2" stroke-linecap="round">
          <animate attributeName="opacity" values=".3;.8;.3" dur="2s" begin=".6s"  repeatCount="indefinite"/>
        </line>
        <line x1="60" y1="17" x2="64" y2="14" stroke="#C8973A" stroke-width="2" stroke-linecap="round">
          <animate attributeName="opacity" values=".3;.8;.3" dur="2s" begin=".9s"  repeatCount="indefinite"/>
        </line>
        <line x1="20" y1="17" x2="16" y2="14" stroke="#C8973A" stroke-width="2" stroke-linecap="round">
          <animate attributeName="opacity" values=".3;.8;.3" dur="2s" begin="1.2s" repeatCount="indefinite"/>
        </line>

        <!-- Trophy body -->
        <path d="M28 12 L28 42 Q28 50 40 50 Q52 50 52 42 L52 12 Z"
              fill="rgba(200,151,58,.12)" stroke="#C8973A" stroke-width="1.5" stroke-linejoin="round"/>
        <!-- Trophy handles -->
        <path d="M28 20 Q16 20 16 30 Q16 40 28 38" fill="none" stroke="#C8973A" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M52 20 Q64 20 64 30 Q64 40 52 38" fill="none" stroke="#C8973A" stroke-width="1.5" stroke-linecap="round"/>
        <!-- Trophy stem -->
        <rect x="36" y="50" width="8" height="5" rx="1" fill="#C8973A" opacity=".6"/>
        <!-- Trophy base -->
        <rect x="28" y="55" width="24" height="5" rx="2.5" fill="#C8973A" opacity=".45"/>
        <!-- Star inside trophy -->
        <polygon points="40,20 41.8,26.2 48,26.2 43,30.2 44.8,36.4 40,32.4 35.2,36.4 37,30.2 32,26.2 38.2,26.2"
                 fill="#C8973A">
          <animate attributeName="opacity" values=".55;1;.55" dur="2.2s" repeatCount="indefinite"/>
        </polygon>
        <!-- shine on cup -->
        <path d="M33 16 Q36 20 33 28" stroke="rgba(255,255,255,.2)" stroke-width="2" stroke-linecap="round" fill="none"/>
      </svg>
      <div class="stat-number" id="cnt-years">17</div>
      <div class="stat-label">Лет безупречной игры</div>
    </div>

  </div>
</div>

<!-- ══════════════ TABLES ══════════════ -->
<div class="sec">
  <div class="wrap">
    <div class="rev">
      <span class="tag">Наши залы</span>
      <h2 class="sec-h2">Бильярд на любой вкус</h2>
      <p class="sec-p">Три просторных зала с профессиональными столами ведущих производителей — русский бильярд, пул и китайская восьмёрка под одной крышей.</p>
    </div>

    <div class="tables-grid" id="tables">

      <!-- РУССКИЙ БИЛЬЯРД — цельные шары в треугольнике -->
      <div class="table-card rev d1">
        <svg class="table-ico" width="120" height="90" viewBox="0 0 120 90" fill="none">
          <!-- 12-foot table top view, narrow pockets -->
          <rect x="4" y="10" width="112" height="70" rx="6" fill="#1a5c3a"/>
          <!-- cushions (thick borders) -->
          <rect x="4"   y="10"  width="112" height="9" rx="5" fill="#0e3d26"/>
          <rect x="4"   y="71"  width="112" height="9" rx="5" fill="#0e3d26"/>
          <rect x="4"   y="10"  width="9"  height="70" rx="5" fill="#0e3d26"/>
          <rect x="107" y="10"  width="9"  height="70" rx="5" fill="#0e3d26"/>
          <!-- Narrow pockets — Russian billiard style (tight) -->
          <circle cx="4"  cy="10" r="5.5" fill="#060301"/>
          <circle cx="60" cy="10" r="3.5" fill="#060301"/>
          <circle cx="116" cy="10" r="5.5" fill="#060301"/>
          <circle cx="4"  cy="80" r="5.5" fill="#060301"/>
          <circle cx="60" cy="80" r="3.5" fill="#060301"/>
          <circle cx="116" cy="80" r="5.5" fill="#060301"/>
          <!-- baulk line -->
          <line x1="35" y1="19" x2="35" y2="71" stroke="rgba(255,255,255,.07)" stroke-width="1"/>
          <circle cx="35" cy="45" r="5" fill="none" stroke="rgba(255,255,255,.06)" stroke-width="1"/>
          <!-- ── TRIANGLE OF SOLID WHITE BALLS ── -->
          <!-- Row 1 (apex) -->
          <circle cx="75" cy="45" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="72.5" cy="42.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <!-- Row 2 -->
          <circle cx="69"  cy="53" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="66.5" cy="50.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <circle cx="81"  cy="53" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="78.5" cy="50.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <!-- Row 3 -->
          <circle cx="63"  cy="61" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="60.5" cy="58.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <circle cx="75"  cy="61" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="72.5" cy="58.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <circle cx="87"  cy="61" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="84.5" cy="58.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <!-- Row 4 (4 balls) -->
          <circle cx="57"  cy="69" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="54.5" cy="66.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <circle cx="69"  cy="69" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="66.5" cy="66.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <circle cx="81"  cy="69" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="78.5" cy="66.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <circle cx="93"  cy="69" r="6.5" fill="#EEE9DF" stroke="#C8BFB0" stroke-width=".7"/>
          <circle cx="90.5" cy="66.5" r="2.2" fill="rgba(255,255,255,.9)"/>
          <!-- RED cue ball (биток) on left -->
          <circle cx="28" cy="45" r="7.5" fill="#CC2222"/>
          <circle cx="25" cy="42" r="2.8" fill="rgba(255,255,255,.55)"/>
          <!-- gold border -->
          <rect x="4" y="10" width="112" height="70" rx="6" fill="none" stroke="#C8973A" stroke-width="1.4"/>
        </svg>
        <div class="table-count">16</div>
        <div class="table-name">Русский бильярд</div>
        <div class="table-desc">Цельные шары на 12-футовых столах. Классика жанра — идеален для опытных игроков и турниров.</div>
      </div>

      <!-- АМЕРИКАНСКИЙ ПУЛ — цветные + полосатые шары -->
      <div class="table-card rev d2">
        <svg class="table-ico" width="120" height="90" viewBox="0 0 120 90" fill="none">
          <!-- 9-foot table, wider pockets -->
          <rect x="4" y="10" width="112" height="70" rx="6" fill="#1a5c3a"/>
          <rect x="4"   y="10"  width="112" height="9" rx="5" fill="#0e3d26"/>
          <rect x="4"   y="71"  width="112" height="9" rx="5" fill="#0e3d26"/>
          <rect x="4"   y="10"  width="9"  height="70" rx="5" fill="#0e3d26"/>
          <rect x="107" y="10"  width="9"  height="70" rx="5" fill="#0e3d26"/>
          <!-- Wider pockets — pool style -->
          <circle cx="4"  cy="10" r="7" fill="#060301"/>
          <circle cx="60" cy="10" r="5" fill="#060301"/>
          <circle cx="116" cy="10" r="7" fill="#060301"/>
          <circle cx="4"  cy="80" r="7" fill="#060301"/>
          <circle cx="60" cy="80" r="5" fill="#060301"/>
          <circle cx="116" cy="80" r="7" fill="#060301"/>
          <!-- ── TRIANGLE: solid + striped balls ── -->
          <!-- Row 1: #1 yellow solid (apex) -->
          <circle cx="80" cy="42" r="6.5" fill="#E8C020"/><circle cx="77.5" cy="39.5" r="2" fill="rgba(255,255,255,.35)"/>
          <!-- Row 2: #2 blue solid, #9 yellow striped -->
          <circle cx="74" cy="50" r="6.5" fill="#1565C0"/><circle cx="71.5" cy="47.5" r="2" fill="rgba(255,255,255,.3)"/>
          <circle cx="86" cy="50" r="6.5" fill="#E8C020"/>
          <rect x="80.5" y="48" width="11" height="4" rx="2" fill="white" opacity=".7"/>
          <!-- Row 3: #3 red, #8 black, #11 red striped -->
          <circle cx="68" cy="58" r="6.5" fill="#C62828"/><circle cx="65.5" cy="55.5" r="2" fill="rgba(255,255,255,.3)"/>
          <circle cx="80" cy="58" r="6.5" fill="#111"/>
          <circle cx="80" cy="58" r="3"   fill="white" opacity=".9"/>
          <text x="80" y="60.5" text-anchor="middle" fill="#111" font-size="4.5" font-family="Arial" font-weight="900">8</text>
          <circle cx="92" cy="58" r="6.5" fill="#C62828"/>
          <rect x="86.5" y="56" width="11" height="4" rx="2" fill="white" opacity=".7"/>
          <!-- Row 4: #4 purple, #10 blue striped, #13 orange striped, #6 green -->
          <circle cx="62" cy="66" r="6.5" fill="#6A1B9A"/><circle cx="59.5" cy="63.5" r="2" fill="rgba(255,255,255,.3)"/>
          <circle cx="74" cy="66" r="6.5" fill="#1565C0"/>
          <rect x="68.5" y="64" width="11" height="4" rx="2" fill="white" opacity=".7"/>
          <circle cx="86" cy="66" r="6.5" fill="#E65100"/>
          <rect x="80.5" y="64" width="11" height="4" rx="2" fill="white" opacity=".7"/>
          <circle cx="98" cy="66" r="6.5" fill="#2E7D32"/><circle cx="95.5" cy="63.5" r="2" fill="rgba(255,255,255,.3)"/>
          <!-- White cue ball on left -->
          <circle cx="30" cy="45" r="7.5" fill="#F2E8D4"/>
          <circle cx="27" cy="42" r="2.8" fill="rgba(255,255,255,.75)"/>
          <!-- gold border -->
          <rect x="4" y="10" width="112" height="70" rx="6" fill="none" stroke="#C8973A" stroke-width="1.4"/>
        </svg>
        <div class="table-count">16</div>
        <div class="table-name">Американский пул</div>
        <div class="table-desc">Цветные и полосатые шары на столах Brunswick. Классический 8-ball для любого уровня игры.</div>
      </div>

      <!-- КИТАЙСКИЙ ПУЛ — красный 8-шар, яркие шары -->
      <div class="table-card rev d3">
        <svg class="table-ico" width="120" height="90" viewBox="0 0 120 90" fill="none">
          <rect x="4" y="10" width="112" height="70" rx="6" fill="#1a5c3a"/>
          <rect x="4"   y="10"  width="112" height="9" rx="5" fill="#0e3d26"/>
          <rect x="4"   y="71"  width="112" height="9" rx="5" fill="#0e3d26"/>
          <rect x="4"   y="10"  width="9"  height="70" rx="5" fill="#0e3d26"/>
          <rect x="107" y="10"  width="9"  height="70" rx="5" fill="#0e3d26"/>
          <circle cx="4"  cy="10" r="6" fill="#060301"/>
          <circle cx="60" cy="10" r="4.5" fill="#060301"/>
          <circle cx="116" cy="10" r="6" fill="#060301"/>
          <circle cx="4"  cy="80" r="6" fill="#060301"/>
          <circle cx="60" cy="80" r="4.5" fill="#060301"/>
          <circle cx="116" cy="80" r="6" fill="#060301"/>
          <!-- Chinese pool triangle with small colorful balls -->
          <!-- Row 1: RED 8-ball (distinctive! Chinese pool) -->
          <circle cx="79" cy="43" r="7" fill="#C62828"/>
          <circle cx="79" cy="43" r="4" fill="white" opacity=".9"/>
          <text x="79" y="45.5" text-anchor="middle" fill="#C62828" font-size="5" font-family="Arial" font-weight="900">8</text>
          <circle cx="76" cy="40" r="2" fill="rgba(255,255,255,.5)"/>
          <!-- Row 2 -->
          <circle cx="72" cy="51" r="5.5" fill="#E8C020"/><circle cx="70" cy="49" r="1.8" fill="rgba(255,255,255,.35)"/>
          <circle cx="86" cy="51" r="5.5" fill="#1565C0"/><circle cx="84" cy="49" r="1.8" fill="rgba(255,255,255,.35)"/>
          <!-- Row 3 -->
          <circle cx="65" cy="59" r="5.5" fill="#2E7D32"/><circle cx="63" cy="57" r="1.8" fill="rgba(255,255,255,.35)"/>
          <circle cx="79" cy="59" r="5.5" fill="#6A1B9A"/><circle cx="77" cy="57" r="1.8" fill="rgba(255,255,255,.35)"/>
          <circle cx="93" cy="59" r="5.5" fill="#E65100"/><circle cx="91" cy="57" r="1.8" fill="rgba(255,255,255,.35)"/>
          <!-- Row 4 -->
          <circle cx="58" cy="67" r="5.5" fill="#E8C020"/>
          <rect x="53" y="65" width="10" height="4" rx="2" fill="white" opacity=".7"/>
          <circle cx="72" cy="67" r="5.5" fill="#1565C0"/>
          <rect x="67" y="65" width="10" height="4" rx="2" fill="white" opacity=".7"/>
          <circle cx="86" cy="67" r="5.5" fill="#C62828"/>
          <rect x="81" y="65" width="10" height="4" rx="2" fill="white" opacity=".7"/>
          <circle cx="100" cy="67" r="5.5" fill="#2E7D32"/>
          <rect x="95" y="65" width="10" height="4" rx="2" fill="white" opacity=".7"/>
          <!-- Chinese decoration: red dragon dots on table -->
          <circle cx="60" cy="45" r="2" fill="rgba(200,151,58,.25)"/>
          <!-- White cue ball -->
          <circle cx="28" cy="45" r="7.5" fill="#F2E8D4"/>
          <circle cx="25" cy="42" r="2.8" fill="rgba(255,255,255,.75)"/>
          <!-- gold border -->
          <rect x="4" y="10" width="112" height="70" rx="6" fill="none" stroke="#C8973A" stroke-width="1.4"/>
        </svg>
        <div class="table-count">1</div>
        <div class="table-name">Китайский пул</div>
        <div class="table-desc">Красный 8-шар — уникальный стол для китайской восьмёрки. Единственный в клубе.</div>
      </div>

    </div>
  </div>
</div>

<!-- ══════════════ PRICES ══════════════ -->
<div class="sec sec-alt" id="prices">
  <div class="wrap">
    <div class="rev">
      <span class="tag">Прайс-лист</span>
      <h2 class="sec-h2">Прозрачные цены</h2>
      <p class="sec-p">Честные тарифы без скрытых платежей. Студентам — скидка 10% по будням после 16:00.</p>
    </div>

    <div class="price-wrap rev">
      <table class="price-table">
        <thead>
          <tr>
            <th>Тип игры</th>
            <th>Пн–Чт&ensp;10:00–16:00</th>
            <th>Пн–Чт&ensp;16:00–06:00</th>
            <th>Пт–Вс / Праздники</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Русский бильярд</strong></td>
            <td><span class="price-val">650</span>&thinsp;₽/ч</td>
            <td><span class="price-val">850</span>&thinsp;₽/ч</td>
            <td><span class="price-val">1&thinsp;000</span>&thinsp;₽/ч</td>
          </tr>
          <tr>
            <td><strong>Американский пул</strong></td>
            <td><span class="price-val">650</span>&thinsp;₽/ч</td>
            <td><span class="price-val">850</span>&thinsp;₽/ч</td>
            <td><span class="price-val">1&thinsp;000</span>&thinsp;₽/ч</td>
          </tr>
          <tr>
            <td>
              <strong>VIP-зона</strong>
              <span class="price-badge">Премиум</span>
            </td>
            <td style="color:var(--muted)">—</td>
            <td style="color:var(--muted)">—</td>
            <td><span class="price-val">3&thinsp;500</span>&thinsp;₽/ч</td>
          </tr>
          <tr>
            <td>
              <strong>Бизнес-ланч</strong>
              <span style="font-size:12px;color:var(--muted)">12:00–16:00</span>
            </td>
            <td><span class="price-val">590</span>&thinsp;₽</td>
            <td style="color:var(--muted)">—</td>
            <td style="color:var(--muted)">—</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="price-note rev">
      <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="var(--gold)" stroke-width="1.5">
        <circle cx="12" cy="12" r="10" stroke-width="1.4"/>
        <path d="M12 8v4M12 16h.01" stroke-linecap="round"/>
      </svg>
      <span>Режим работы: <strong style="color:var(--cream)">10:00–06:00 ежедневно.</strong> После 23:00 — вход только по предварительному звонку администратору.</span>
    </div>
  </div>
</div>

<!-- ══════════════ SERVICES ══════════════ -->
<div class="sec" id="services">
  <div class="wrap">
    <div class="rev">
      <span class="tag">Наши услуги</span>
      <h2 class="sec-h2">Всё для идеального вечера</h2>
      <p class="sec-p">Нажмите на карточку, чтобы узнать больше о каждом из наших направлений.</p>
    </div>

    <div class="popup-row">

      <!-- School -->
      <div class="popup-card rev d1" onclick="open_m('m-school')" tabindex="0" role="button" aria-label="Бильярдная школа">
        <div class="popup-bg" style="background: linear-gradient(145deg,#2B1507,#100A04);">
          <svg style="position:absolute;inset:0;width:100%;height:100%;opacity:.13" viewBox="0 0 400 500" fill="none">
            <circle cx="200" cy="160" r="90" stroke="#C8973A" stroke-width="1.5"/>
            <circle cx="115" cy="310" r="65" stroke="#C8973A" stroke-width="1.2"/>
            <circle cx="295" cy="360" r="75" stroke="#C8973A" stroke-width="1.2"/>
            <line x1="200" y1="160" x2="115" y2="310" stroke="#C8973A" stroke-width=".8"/>
            <line x1="200" y1="160" x2="295" y2="360" stroke="#C8973A" stroke-width=".8"/>
          </svg>
        </div>
        <div class="popup-overlay"></div>
        <div class="popup-body">
          <div class="popup-ico">
            <!-- Billiard cue + balls -->
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
              <!-- cue stick diagonal -->
              <line x1="5" y1="35" x2="36" y2="4" stroke="#C8973A" stroke-width="2" stroke-linecap="round"/>
              <line x1="5" y1="35" x2="9" y2="31" stroke="#C8973A" stroke-width="3.5" stroke-linecap="round"/>
              <!-- balls cluster -->
              <circle cx="30" cy="12" r="5.5" fill="rgba(200,151,58,.15)" stroke="#C8973A" stroke-width="1.5"/>
              <circle cx="28" cy="10" r="1.8" fill="rgba(255,255,255,.4)"/>
              <circle cx="22" cy="18" r="4.5" fill="rgba(200,151,58,.12)" stroke="#C8973A" stroke-width="1.3"/>
              <circle cx="20.5" cy="16.5" r="1.4" fill="rgba(255,255,255,.4)"/>
            </svg>
          </div>
          <h3 class="popup-title">Бильярдная<br>школа</h3>
          <p class="popup-desc">4 тренера-чемпиона. Индивидуальные и групповые занятия. Подготовка к турнирам.</p>
          <div class="popup-link">
            Познакомиться
            <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      </div>

      <!-- Restaurant -->
      <div class="popup-card rev d2" onclick="open_m('m-menu')" tabindex="0" role="button" aria-label="Ресторан">
        <div class="popup-bg" style="background: linear-gradient(145deg,#1A0D05,#291407);">
          <svg style="position:absolute;inset:0;width:100%;height:100%;opacity:.11" viewBox="0 0 400 500" fill="none">
            <path d="M80 100 Q200 40 320 100 Q370 200 320 370 Q200 460 80 370 Q30 200 80 100Z" stroke="#C8973A" stroke-width="1.5"/>
            <path d="M140 150 Q200 120 260 150 Q290 230 260 330 Q200 380 140 330 Q110 230 140 150Z" stroke="#C8973A" stroke-width="1"/>
            <circle cx="200" cy="260" r="35" fill="rgba(200,151,58,.08)" stroke="#C8973A" stroke-width="1"/>
          </svg>
        </div>
        <div class="popup-overlay"></div>
        <div class="popup-body">
          <div class="popup-ico">
            <!-- Fork + Plate + Knife -->
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="#C8973A" stroke-linecap="round" stroke-linejoin="round">
              <!-- Plate -->
              <circle cx="20" cy="23" r="11" stroke-width="1.5"/>
              <circle cx="20" cy="23" r="7"  stroke-width=".9" stroke-opacity=".45"/>
              <!-- Fork (left) -->
              <line x1="10" y1="5"  x2="10" y2="35" stroke-width="1.6"/>
              <line x1="7.5" y1="5" x2="7.5" y2="11" stroke-width="1.3"/>
              <line x1="12.5" y1="5" x2="12.5" y2="11" stroke-width="1.3"/>
              <path d="M7.5 11 Q10 15 12.5 11" stroke-width="1.3" fill="none"/>
              <!-- Knife (right) -->
              <line x1="30" y1="5" x2="30" y2="35" stroke-width="1.6"/>
              <path d="M30 5 Q35 9 30 16" stroke-width="1.3" fill="rgba(200,151,58,.15)"/>
            </svg>
          </div>
          <h3 class="popup-title">Ресторан<br>и кухня</h3>
          <p class="popup-desc">Авторское меню с широким выбором блюд. Бизнес-ланч — всего 590 ₽.</p>
          <div class="popup-link">
            Смотреть меню
            <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      </div>

      <!-- Contacts -->
      <div class="popup-card rev d3" onclick="open_m('m-contacts')" tabindex="0" role="button" aria-label="Контакты">
        <div class="popup-bg" style="background: linear-gradient(145deg,#0A0603,#1C1208);">
          <svg style="position:absolute;inset:0;width:100%;height:100%;opacity:.12" viewBox="0 0 400 500" fill="none">
            <circle cx="200" cy="210" r="130" stroke="#C8973A" stroke-width="1.5"/>
            <circle cx="200" cy="210" r="85"  stroke="#C8973A" stroke-width="1.2"/>
            <circle cx="200" cy="210" r="42"  stroke="#C8973A" stroke-width="1"/>
            <line x1="200" y1="80"  x2="200" y2="125" stroke="#C8973A" stroke-width="2"/>
            <line x1="200" y1="295" x2="200" y2="340" stroke="#C8973A" stroke-width="2"/>
            <line x1="70"  y1="210" x2="115" y2="210" stroke="#C8973A" stroke-width="2"/>
            <line x1="285" y1="210" x2="330" y2="210" stroke="#C8973A" stroke-width="2"/>
          </svg>
        </div>
        <div class="popup-overlay"></div>
        <div class="popup-body">
          <div class="popup-ico">
            <!-- Phone handset -->
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
              <path d="M7 9.5C7 8.7 7.7 8 8.5 8H13C13.8 8 14.5 8.6 14.6 9.4L15.8 15.4C15.9 16.2 15.5 17 14.8 17.3L12 18.7C13.8 22.7 17.3 26 21.4 27.8L22.8 25C23.1 24.3 24 23.9 24.7 24.1L30.7 25.3C31.5 25.5 32 26.2 32 27V31C32 31.8 31.3 32.5 30.5 32.5H28C16.7 32.5 7.5 23.3 7.5 12V9.5Z"
                    fill="rgba(200,151,58,.15)" stroke="#C8973A" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
              <!-- signal arcs -->
              <path d="M27 8 Q32 13 27 18" fill="none" stroke="#C8973A" stroke-width="1.4" stroke-linecap="round" opacity=".55"/>
              <path d="M30 5 Q37 13 30 21" fill="none" stroke="#C8973A" stroke-width="1.2" stroke-linecap="round" opacity=".3"/>
            </svg>
          </div>
          <h3 class="popup-title">Контакты<br>и связь</h3>
          <p class="popup-desc">Быстрый звонок администратору. Бронирование стола и обратная связь.</p>
          <div class="popup-link">
            Позвонить
            <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ══════════════ ROUTE ══════════════ -->
<div class="sec sec-alt" id="route">
  <div class="wrap">
    <div class="rev">
      <span class="tag">Как нас найти</span>
      <h2 class="sec-h2">Схема проезда</h2>
      <p class="sec-p">Мы расположены в торговом центре на ул. Пионерской, 21. Следуйте схеме — всего 4 шага.</p>
    </div>

    <div class="route-wrap">
      <!-- Steps -->
      <div class="route-steps">

        <div class="step" data-delay="0">
          <div class="step-n">1</div>
          <div>
            <div class="step-title">Станция метро «Чкаловская»</div>
            <div class="step-desc">Выйдите на станции метро Чкаловская. Идите по улице Пионерской в сторону дома 21 — около 5 минут пешком.</div>
          </div>
        </div>

        <div class="step" data-delay="150">
          <div class="step-n">2</div>
          <div>
            <div class="step-title">Войдите в торговый центр</div>
            <div class="step-desc">Заходите в главный вход торгового центра по адресу ул. Пионерская, д. 21.</div>
          </div>
        </div>

        <div class="step" data-delay="300">
          <div class="step-n">3</div>
          <div>
            <div class="step-title">Поднимитесь на 2-й этаж</div>
            <div class="step-desc">Воспользуйтесь эскалатором сразу у входа. Поднимитесь на второй этаж торгового центра.</div>
          </div>
        </div>

        <div class="step" data-delay="450">
          <div class="step-n">4</div>
          <div>
            <div class="step-title">Поверните направо — вы на месте!</div>
            <div class="step-desc">На втором этаже повернуть направо. Вывеска бильярдного клуба «Алиби» будет прямо перед вами. Добро пожаловать!</div>
          </div>
        </div>

      </div>

      <!-- Animated SVG scheme -->
      <div class="map-illus">
        <!--
          Layout (x positions):
            Escalator 1st floor: x≈120  (left of entrance)
            Entrance:            x≈230  (center-right)
            Escalator 2nd floor: x≈120
            Club (Алиби):        x≈210–350 (right of escalator on 2nd floor)
        -->
        <svg viewBox="0 0 400 420" fill="none" xmlns="http://www.w3.org/2000/svg"
             style="width:100%;height:auto;display:block">

          <!-- Background -->
          <rect width="400" height="420" fill="#100A04"/>

          <!-- ═══ BUILDING ═══ -->
          <rect x="30" y="40" width="340" height="240" rx="10"
                fill="#1A0D05" stroke="#C8973A" stroke-width="1.3" stroke-opacity=".3"/>

          <!-- Floor divider -->
          <line x1="30" y1="160" x2="370" y2="160"
                stroke="#C8973A" stroke-width="1" stroke-opacity=".18" stroke-dasharray="6 4"/>

          <!-- Floor labels -->
          <rect x="30" y="40" width="40" height="120" rx="0" fill="rgba(200,151,58,.04)"/>
          <text x="50" y="107" text-anchor="middle" fill="rgba(200,151,58,.5)"
                font-size="9" font-family="Montserrat,sans-serif" font-weight="600"
                transform="rotate(-90 50 107)">2 ЭТАЖ</text>
          <rect x="30" y="160" width="40" height="120" rx="0" fill="rgba(200,151,58,.03)"/>
          <text x="50" y="227" text-anchor="middle" fill="rgba(200,151,58,.4)"
                font-size="9" font-family="Montserrat,sans-serif" font-weight="600"
                transform="rotate(-90 50 227)">1 ЭТАЖ</text>
          <line x1="70" y1="40" x2="70" y2="280" stroke="rgba(200,151,58,.18)" stroke-width="1"/>

          <!-- ═══ ESCALATOR (1st floor, left side x≈120) ═══ -->
          <!-- escalator shaft -->
          <rect x="90" y="168" width="60" height="82" rx="5"
                fill="rgba(200,151,58,.06)" stroke="#C8973A" stroke-width="1.1" stroke-opacity=".4"/>
          <!-- diagonal steps -->
          <line x1="92"  y1="238" x2="148" y2="172" stroke="#C8973A" stroke-width="1" stroke-opacity=".35" stroke-dasharray="4 3"/>
          <line x1="92"  y1="225" x2="142" y2="172" stroke="#C8973A" stroke-width=".7" stroke-opacity=".2"/>
          <line x1="100" y1="248" x2="148" y2="185" stroke="#C8973A" stroke-width=".7" stroke-opacity=".2"/>
          <!-- up arrow -->
          <polygon points="120,168 112,182 128,182" fill="#C8973A" opacity=".7"/>
          <text x="120" y="258" text-anchor="middle" fill="rgba(200,151,58,.5)"
                font-size="7.5" font-family="Montserrat,sans-serif" font-weight="500">ЭСКАЛАТОР</text>

          <!-- ═══ ENTRANCE (1st floor, right of escalator x≈230) ═══ -->
          <!-- door opening -->
          <rect x="195" y="250" width="76" height="30" rx="0"
                fill="rgba(200,151,58,.09)" stroke="#C8973A" stroke-width="1.4" stroke-opacity=".55"/>
          <!-- door arch -->
          <path d="M195 250 Q233 230 271 250" fill="none" stroke="#C8973A" stroke-width="1" stroke-opacity=".4"/>
          <!-- door line -->
          <line x1="233" y1="250" x2="233" y2="280" stroke="#C8973A" stroke-width="1" stroke-opacity=".3"/>
          <text x="233" y="268" text-anchor="middle" fill="#C8973A"
                font-size="9" font-family="Montserrat,sans-serif" font-weight="700" opacity=".8">ВХОД</text>

          <!-- ═══ ANIMATED ENTRANCE ARROW (bouncing, below building) ═══ -->
          <!-- arrow shaft -->
          <line x1="233" y1="310" x2="233" y2="284" stroke="#C8973A" stroke-width="2.5"
                stroke-linecap="round">
            <animateTransform attributeName="transform" type="translate"
              values="0 0;0 -6;0 0" dur="1.4s" repeatCount="indefinite"/>
          </line>
          <!-- arrowhead pointing UP (into entrance) -->
          <polygon points="233,282 225,296 241,296" fill="#C8973A">
            <animateTransform attributeName="transform" type="translate"
              values="0 0;0 -6;0 0" dur="1.4s" repeatCount="indefinite"/>
          </polygon>
          <!-- label -->
          <text x="233" y="330" text-anchor="middle" fill="rgba(200,151,58,.65)"
                font-size="8.5" font-family="Montserrat,sans-serif" font-weight="600"
                letter-spacing="1">ВХОД ЗДЕСЬ</text>
          <!-- pulse ring at entrance bottom -->
          <circle cx="233" cy="282" r="8" fill="none" stroke="#C8973A" stroke-width="1.2" opacity=".4">
            <animate attributeName="r" values="8;22" dur="1.8s" repeatCount="indefinite"/>
            <animate attributeName="opacity" values=".5;0" dur="1.8s" repeatCount="indefinite"/>
          </circle>

          <!-- ═══ CLUB BOX on 2nd floor (right of escalator, x 190–355) ═══ -->
          <rect x="185" y="52" width="170" height="96" rx="8"
                fill="rgba(200,151,58,.1)" stroke="#C8973A" stroke-width="1.8"/>
          <!-- billiard ball decoration -->
          <circle cx="215" cy="80" r="16" fill="rgba(200,151,58,.15)" stroke="#C8973A" stroke-width="1"/>
          <circle cx="215" cy="80" r="7" fill="rgba(200,151,58,.25)"/>
          <text x="215" y="85" text-anchor="middle" fill="#C8973A"
                font-family="Georgia,serif" font-size="9" font-weight="700">A</text>
          <!-- text -->
          <text x="290" y="82" text-anchor="middle" fill="#C8973A"
                font-family="Montserrat,sans-serif" font-size="13" font-weight="700"
                letter-spacing="2">АЛИБИ</text>
          <text x="290" y="98" text-anchor="middle" fill="rgba(200,151,58,.55)"
                font-family="Montserrat,sans-serif" font-size="8">бильярдный клуб</text>
          <text x="290" y="113" text-anchor="middle" fill="rgba(200,151,58,.4)"
                font-family="Montserrat,sans-serif" font-size="8">2-й этаж</text>

          <!-- ═══ ANIMATED ROUTE PATH ═══ -->
          <!-- Step 1: enter (entrance → inside 1st floor) -->
          <path d="M233 250 L233 210" stroke="#C8973A" stroke-width="2.5"
                stroke-linecap="round" stroke-dasharray="44" stroke-dashoffset="44">
            <animate attributeName="stroke-dashoffset" values="44;0" dur=".9s" begin="0.6s" fill="freeze"/>
          </path>

          <!-- Step 2: walk left to escalator -->
          <path d="M233 210 L150 210" stroke="#C8973A" stroke-width="2.5"
                stroke-linecap="round" stroke-dasharray="86" stroke-dashoffset="86">
            <animate attributeName="stroke-dashoffset" values="86;0" dur="1s" begin="1.6s" fill="freeze"/>
          </path>

          <!-- Step 3: go up escalator -->
          <path d="M150 210 L120 170 L120 162" stroke="#C8973A" stroke-width="2.5"
                stroke-linecap="round" stroke-dasharray="62" stroke-dashoffset="62">
            <animate attributeName="stroke-dashoffset" values="62;0" dur=".9s" begin="2.7s" fill="freeze"/>
          </path>

          <!-- Step 4: turn right on 2nd floor to club -->
          <path d="M120 140 L185 120" stroke="#C8973A" stroke-width="2.5"
                stroke-linecap="round" stroke-dasharray="74" stroke-dashoffset="74">
            <animate attributeName="stroke-dashoffset" values="74;0" dur="1s" begin="3.7s" fill="freeze"/>
          </path>

          <!-- Destination pulse -->
          <circle cx="185" cy="120" r="6" fill="#C8973A" opacity="0">
            <animate attributeName="opacity" values="0;1" dur=".3s" begin="4.8s" fill="freeze"/>
          </circle>
          <circle cx="185" cy="120" r="6" fill="none" stroke="#C8973A" stroke-width="1" opacity="0">
            <animate attributeName="opacity" values="0;0.5;0" dur="1.4s" begin="4.8s" repeatCount="indefinite"/>
            <animate attributeName="r" values="6;24" dur="1.4s" begin="4.8s" repeatCount="indefinite"/>
          </circle>

          <!-- ═══ "→ НАПРАВО" hint on 2nd floor ═══ -->
          <text x="155" y="138" text-anchor="start" fill="rgba(200,151,58,.5)"
                font-size="8" font-family="Montserrat,sans-serif">→ направо</text>

        </svg>
      </div>
    </div>

    <!-- Yandex Map -->
    <div class="ym-wrap rev">
      <iframe
        src="https://yandex.ru/map-widget/v1/?ll=30.295804%2C59.957000&z=16&pt=30.295804%2C59.957000,pm2rdm&text=%D0%A1%D0%B0%D0%BD%D0%BA%D1%82-%D0%9F%D0%B5%D1%82%D0%B5%D1%80%D0%B1%D1%83%D1%80%D0%B3%2C%20%D1%83%D0%BB.%20%D0%9F%D0%B8%D0%BE%D0%BD%D0%B5%D1%80%D1%81%D0%BA%D0%B0%D1%8F%2C%2021"
        title="Карта: Бильярдный клуб Алиби"
        allowfullscreen loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</div>

<!-- ══════════════ FOOTER ══════════════ -->
<footer>
  <div class="footer-grid">
    <div>
      <div class="foot-logo" style="display:flex;align-items:center;gap:12px;margin-bottom:20px">
        <svg width="44" height="44" viewBox="0 0 44 44" fill="none" aria-hidden="true">
          <circle cx="22" cy="22" r="21" fill="#1E1108" stroke="#C8973A" stroke-width="1.2"/>
          <circle cx="22" cy="22" r="12" fill="rgba(200,151,58,.1)" stroke="#C8973A" stroke-width="1"/>
          <text x="22" y="27" text-anchor="middle" fill="#C8973A" font-family="Georgia,serif" font-size="13" font-weight="700">A</text>
          <circle cx="15" cy="15" r="4.5" fill="rgba(255,255,255,.07)"/>
        </svg>
        <div>
          <div style="font-family:Cormorant,serif;font-size:28px;font-weight:700;color:var(--gold);letter-spacing:.15em;line-height:1">АЛИБИ</div>
          <div style="font-size:9px;color:var(--muted);letter-spacing:.28em;text-transform:uppercase;margin-top:3px">бильярдный клуб</div>
        </div>
      </div>
      <p class="foot-tagline">Бильярдный клуб премиум-класса в центре Санкт-Петербурга. Основан в 2007 году. 33 стола, 3 зала, VIP-зона.</p>
    </div>

    <div>
      <div class="foot-h">Навигация</div>
      <ul class="foot-ul">
        <li><a href="#tables">Наши залы</a></li>
        <li><a href="#prices">Прайс-лист</a></li>
        <li><a href="#services">Услуги</a></li>
        <li><a href="#route">Как найти</a></li>
      </ul>
    </div>

    <div>
      <div class="foot-h">Контакты</div>
      <ul class="foot-ul">
        <li><a href="tel:+79312987778">+7 (931) 298-777-8</a></li>
        <li><a href="#">ул. Пионерская, 21</a></li>
        <li><a href="#">Санкт-Петербург</a></li>
        <li style="color:var(--muted);font-size:14px">10:00–06:00 ежедневно</li>
      </ul>
    </div>
  </div>

  <div class="foot-bottom">
    <span>© 2007–2026 Бильярдный клуб «Алиби»</span>
    <a href="https://www.instagram.com/club.alibi/" target="_blank" rel="noopener">Instagram</a>
  </div>
</footer>

<!-- ══════════════ MODALS ══════════════ -->

<!-- School -->
<div class="overlay" id="m-school" onclick="bg_close(event)">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Бильярдная школа">
    <div class="modal-head">
      <div>
        <span class="tag" style="margin-bottom:8px">Бильярдная школа</span>
        <h2 style="font-family:Cormorant,serif;font-size:34px;font-weight:600;color:#fff">Наши тренеры</h2>
      </div>
      <button class="modal-close" onclick="close_m('m-school')" aria-label="Закрыть">
        <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="modal-cnt">
      <p style="font-size:14px;color:var(--muted);margin-bottom:28px;line-height:1.75">
        Наши тренеры — действующие чемпионы и мастера с многолетним опытом. Индивидуальные и групповые занятия для любого уровня.
      </p>
      <div class="trainers-g">

        <div class="trainer">
          <div class="trainer-av">ВС</div>
          <div class="trainer-name">Виктор Смоляр</div>
          <div class="trainer-rank">Чемпион Ленинградской области · КМС</div>
          <div class="trainer-bio">Специалист по индивидуальным и групповым занятиям. Опытный наставник для игроков любого уровня подготовки.</div>
          <a href="tel:+79112389942" class="trainer-phone">
            <svg width="15" height="15" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
              <path d="M2.25 6.338c0 3.696 1.83 6.971 4.66 8.993A18.38 18.38 0 0012 16.9c1.787 0 3.47-.465 4.916-1.28A11.247 11.247 0 0021.75 6.338C21.75 3.82 17.321 1.8 12 1.8S2.25 3.82 2.25 6.338z"/>
            </svg>
            +7 (911) 238-99-42
          </a>
        </div>

        <div class="trainer">
          <div class="trainer-av">РБ</div>
          <div class="trainer-name">Роман Буторин</div>
          <div class="trainer-rank">Чемпион Санкт-Петербурга · КМС</div>
          <div class="trainer-bio">Сертифицированный тренер, кандидат в мастера спорта. Ставит правильную технику с первых занятий.</div>
          <a href="tel:+79811855242" class="trainer-phone">
            <svg width="15" height="15" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
              <path d="M2.25 6.338c0 3.696 1.83 6.971 4.66 8.993A18.38 18.38 0 0012 16.9c1.787 0 3.47-.465 4.916-1.28A11.247 11.247 0 0021.75 6.338C21.75 3.82 17.321 1.8 12 1.8S2.25 3.82 2.25 6.338z"/>
            </svg>
            +7 (981) 185-52-42
          </a>
        </div>

        <div class="trainer">
          <div class="trainer-av">ЛМ</div>
          <div class="trainer-name">Леонид Михайлов</div>
          <div class="trainer-rank">Мастер русского бильярда · 15+ лет тренерства</div>
          <div class="trainer-bio">Более 15 лет тренерской деятельности. Эксперт по технике русского бильярда. Работает с профессиональными игроками.</div>
          <a href="tel:+79219292831" class="trainer-phone">
            <svg width="15" height="15" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
              <path d="M2.25 6.338c0 3.696 1.83 6.971 4.66 8.993A18.38 18.38 0 0012 16.9c1.787 0 3.47-.465 4.916-1.28A11.247 11.247 0 0021.75 6.338C21.75 3.82 17.321 1.8 12 1.8S2.25 3.82 2.25 6.338z"/>
            </svg>
            +7 (921) 929-28-31
          </a>
        </div>

        <div class="trainer">
          <div class="trainer-av">АС</div>
          <div class="trainer-name">Алексей Соловьев</div>
          <div class="trainer-rank">Тренер · Спортивный психолог</div>
          <div class="trainer-bio">Универсальный тренер по русскому бильярду, пулу, снукеру и китайской восьмёрке. Воспитал 4 чемпионов России и 10 призёров национальных первенств.</div>
          <a href="tel:+79602830013" class="trainer-phone">
            <svg width="15" height="15" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
              <path d="M2.25 6.338c0 3.696 1.83 6.971 4.66 8.993A18.38 18.38 0 0012 16.9c1.787 0 3.47-.465 4.916-1.28A11.247 11.247 0 0021.75 6.338C21.75 3.82 17.321 1.8 12 1.8S2.25 3.82 2.25 6.338z"/>
            </svg>
            +7 (960) 283-00-13
          </a>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Menu -->
<div class="overlay" id="m-menu" onclick="bg_close(event)">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Меню ресторана">
    <div class="modal-head">
      <div>
        <span class="tag" style="margin-bottom:8px">Ресторан</span>
        <h2 style="font-family:Cormorant,serif;font-size:34px;font-weight:600;color:#fff">Наше меню</h2>
      </div>
      <button class="modal-close" onclick="close_m('m-menu')" aria-label="Закрыть">
        <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="modal-cnt">
      <p style="font-size:14px;color:var(--muted);margin-bottom:24px;line-height:1.75">
        Авторское меню для гурманов. Бизнес-ланч ежедневно 12:00–16:00 — <strong style="color:var(--gold)">590 ₽</strong>. Блюда можно заказать прямо за бильярдным столом.
      </p>
      <div class="menu-pages">
        <button class="menu-page-btn" onclick="lb_open(1)"><span class="mpb-num">1</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(2)"><span class="mpb-num">2</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(3)"><span class="mpb-num">3</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(4)"><span class="mpb-num">4</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(5)"><span class="mpb-num">5</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(6)"><span class="mpb-num">6</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(7)"><span class="mpb-num">7</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(8)"><span class="mpb-num">8</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(9)"><span class="mpb-num">9</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(10)"><span class="mpb-num">10</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(11)"><span class="mpb-num">11</span>стр.</button>
        <button class="menu-page-btn" onclick="lb_open(12)"><span class="mpb-num">12</span>стр.</button>
      </div>
    </div>
  </div>
</div>

<!-- Contacts -->
<div class="overlay" id="m-contacts" onclick="bg_close(event)">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Контакты">
    <div class="modal-head">
      <div>
        <span class="tag" style="margin-bottom:8px">Связаться</span>
        <h2 style="font-family:Cormorant,serif;font-size:34px;font-weight:600;color:#fff">Контакты</h2>
      </div>
      <button class="modal-close" onclick="close_m('m-contacts')" aria-label="Закрыть">
        <svg width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="modal-cnt">
      <p style="font-size:14px;color:var(--muted)">Позвоните нам — мы на месте круглосуточно:</p>
      <a href="tel:+79312987778" class="phone-big">+7 (931) 298-777-8</a>
      <a href="tel:+79312987778" class="btn-gold" style="display:inline-flex;align-items:center;gap:10px;text-decoration:none">
        <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M2.25 6.338c0 3.696 1.83 6.971 4.66 8.993A18.38 18.38 0 0012 16.9c1.787 0 3.47-.465 4.916-1.28A11.247 11.247 0 0021.75 6.338C21.75 3.82 17.321 1.8 12 1.8S2.25 3.82 2.25 6.338z"/>
        </svg>
        Позвонить сейчас
      </a>
      <div class="contact-g">
        <div class="contact-box">
          <div class="contact-lbl">Адрес</div>
          <div class="contact-val">ул. Пионерская, 21<br>Санкт-Петербург, 197110</div>
        </div>
        <div class="contact-box">
          <div class="contact-lbl">Часы работы</div>
          <div class="contact-val">10:00 – 06:00<br><span style="font-size:13px;color:var(--muted)">После 23:00 — вход по звонку</span></div>
        </div>
        <div class="contact-box">
          <div class="contact-lbl">Метро</div>
          <div class="contact-val">Чкаловская<br><span style="font-size:13px;color:var(--muted)">5 минут пешком</span></div>
        </div>
        <div class="contact-box">
          <div class="contact-lbl">Instagram</div>
          <div class="contact-val">
            <a href="https://www.instagram.com/club.alibi/" target="_blank" rel="noopener"
               style="color:var(--gold);text-decoration:none">@club.alibi</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ══════════════ LIGHTBOX ══════════════ -->
<div id="lb" role="dialog" aria-modal="true" aria-label="Меню">
  <button class="lb-close" onclick="lb_close()" aria-label="Закрыть">
    <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <path d="M6 18L18 6M6 6l12 12"/>
    </svg>
  </button>
  <div id="lb-loading"></div>
  <img id="lb-img" src="" alt="Страница меню" style="display:none">
  <div class="lb-nav">
    <button class="lb-btn" id="lb-prev" onclick="lb_nav(-1)">← Назад</button>
    <span id="lb-counter">1 / 12</span>
    <button class="lb-btn" id="lb-next" onclick="lb_nav(1)">Вперёд →</button>
  </div>
</div>

<!-- ══════════════ SCRIPTS ══════════════ -->
<script>
// ── Billiard balls canvas ──────────────────
(function(){
  const cvs = document.getElementById('hero-canvas');
  const ctx = cvs.getContext('2d');

  function resize(){
    cvs.width  = window.innerWidth;
    cvs.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);

  const COLORS = [
    'rgba(200,151,58,.13)', 'rgba(200,151,58,.08)', 'rgba(180,100,30,.12)',
    'rgba(200,151,58,.06)', 'rgba(230,173,85,.09)', 'rgba(100,50,20,.14)'
  ];

  const balls = Array.from({length: 18}, () => ({
    x:  Math.random() * innerWidth,
    y:  Math.random() * innerHeight,
    r:  Math.random() * 32 + 10,
    vx: (Math.random() - .5) * .65,
    vy: (Math.random() - .5) * .65,
    c:  COLORS[Math.floor(Math.random() * COLORS.length)]
  }));

  function tick(){
    ctx.clearRect(0, 0, cvs.width, cvs.height);
    balls.forEach(b => {
      b.x += b.vx; b.y += b.vy;
      if (b.x < -b.r)           b.x = cvs.width  + b.r;
      if (b.x > cvs.width  + b.r) b.x = -b.r;
      if (b.y < -b.r)           b.y = cvs.height + b.r;
      if (b.y > cvs.height + b.r) b.y = -b.r;

      ctx.save();
      ctx.shadowBlur = 28; ctx.shadowColor = b.c;
      ctx.beginPath();
      ctx.arc(b.x, b.y, b.r, 0, Math.PI*2);
      ctx.fillStyle = b.c;
      ctx.fill();
      // highlight
      ctx.shadowBlur = 0;
      ctx.beginPath();
      ctx.arc(b.x - b.r*.25, b.y - b.r*.28, b.r*.32, 0, Math.PI*2);
      ctx.fillStyle = 'rgba(255,255,255,.09)';
      ctx.fill();
      ctx.restore();
    });
    requestAnimationFrame(tick);
  }
  tick();
})();

// ── Scroll reveal ──────────────────────────
const revObs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('vis'); });
}, { threshold: .1 });
document.querySelectorAll('.rev').forEach(el => revObs.observe(el));

// ── Route steps ───────────────────────────
const stepObs = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      const d = +(e.target.dataset.delay || 0);
      setTimeout(() => e.target.classList.add('vis'), d);
      stepObs.unobserve(e.target);
    }
  });
}, { threshold: .15 });
document.querySelectorAll('.step').forEach(el => stepObs.observe(el));

// ── Navbar scroll ─────────────────────────
window.addEventListener('scroll', () => {
  document.getElementById('nav').classList.toggle('scrolled', scrollY > 60);
}, {passive:true});

// ── Mobile menu ───────────────────────────
function toggleMenu(){ document.getElementById('navLinks').classList.toggle('open'); }
function closeMenu() { document.getElementById('navLinks').classList.remove('open'); }

document.getElementById('burger').addEventListener('keydown', e => {
  if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleMenu(); }
});

// ── Modals ────────────────────────────────
function open_m(id){
  document.getElementById(id).classList.add('on');
  document.body.style.overflow = 'hidden';
  if (id === 'm-menu') loadMenu();
}
function close_m(id){
  document.getElementById(id).classList.remove('on');
  document.body.style.overflow = '';
}
function bg_close(e){
  if (e.target === e.currentTarget) close_m(e.currentTarget.id);
}
document.addEventListener('keydown', e => {
  if (e.key !== 'Escape') return;
  document.querySelectorAll('.overlay.on').forEach(el => {
    el.classList.remove('on');
    document.body.style.overflow = '';
  });
});

// keyboard open for popup cards
document.querySelectorAll('.popup-card').forEach(card => {
  card.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); card.click(); }
  });
});

// ── Lightbox for menu ─────────────────────
let lbPage = 1;
const MENU_TOTAL = 12;

function lb_open(n){
  lbPage = n;
  document.getElementById('lb').classList.add('on');
  document.body.style.overflow = 'hidden';
  lb_load();
}
function lb_close(){
  document.getElementById('lb').classList.remove('on');
  document.body.style.overflow = '';
}
function lb_nav(dir){
  lbPage = Math.max(1, Math.min(MENU_TOTAL, lbPage + dir));
  lb_load();
}
function lb_load(){
  const img  = document.getElementById('lb-img');
  const spin = document.getElementById('lb-loading');
  const prev = document.getElementById('lb-prev');
  const next = document.getElementById('lb-next');
  document.getElementById('lb-counter').textContent = `${lbPage} / ${MENU_TOTAL}`;
  prev.disabled = lbPage === 1;
  next.disabled = lbPage === MENU_TOTAL;

  img.style.display = 'none';
  spin.style.display = 'block';

  const src = `https://begemot-m.github.io/club-alibi/menu/${lbPage}.jpg`;
  const tmp = new Image();
  tmp.onload = () => {
    img.src = src;
    img.style.display = 'block';
    spin.style.display = 'none';
  };
  tmp.onerror = () => {
    spin.style.display = 'none';
    img.src = '';
    img.style.display = 'none';
    // show error text briefly
    document.getElementById('lb-counter').textContent = 'Страница недоступна';
  };
  tmp.src = src;
}

// keyboard nav in lightbox
document.addEventListener('keydown', e => {
  if (!document.getElementById('lb').classList.contains('on')) return;
  if (e.key === 'ArrowRight') lb_nav(1);
  if (e.key === 'ArrowLeft')  lb_nav(-1);
  if (e.key === 'Escape')     lb_close();
});

// close lightbox on bg click
document.getElementById('lb').addEventListener('click', e => {
  if (e.target === e.currentTarget) lb_close();
});
</script>
</body>
</html>
